function NotForgetData(){function a(){this.m_MAX_MENU_LEFT=0,this.m_MIN_MENU_LEFT=-300,this.m_MENU_WIDTH=300,this.m_MAX_BLACK_COVER_OPACITY=.5,this.m_MIN_BLACK_COVER_OPACITY=0}function b(){this.m_COPYRIGHT="© 2019 - Yeuoly",this.m_WEB_TITLE="YeuolyBlog",this.m_WLECOME_SAYING="欢迎回来!",this.m_VERIFICATION_SUCCESS="验证码已发送（可能在您邮箱的垃圾箱里orz)"}function c(){this.m_URL_DOMAIN_API="http://localhost:100/website/pif_mana/api/",this.m_URL_DOMAIN_WEB="http://localhost:100/website/pif_mana/web/",this.m_URL_DOMAIN_IMG="http://localhost:100/website/pif_mana/img/"}function d(){function a(){this.success=666,this.failed=-250}function b(){this.failed=-250,this.success=666}function c(){this.success=666,this.failed=-250}function d(){this.success=666,this.failed=-250}this.login=new a,this.passjct=new b,this.register=new d,this.requestVerification=new c}this.m_URL_DOMAIN_API_DIR=0,this.m_URL_DOMAIN_WEB_DIR=1,this.m_URL_DOMAIN_IMG_DIR=2,this.m_ADD_BLOCK_TYPE_TABLE=1,this.m_ADD_BLOCK_TYPE_URL=2,this.m_ADD_BLOCK_TYPE_PIC=3,this.response=new d,this.url=new c,this.baseinfo=new b,this.userblock=new a,this.getUrlPath=function(a,b){switch(b){case this.m_URL_DOMAIN_API_DIR:return this.url.m_URL_DOMAIN_API+a;case this.m_URL_DOMAIN_WEB_DIR:return this.url.m_URL_DOMAIN_WEB+a;case this.m_URL_DOMAIN_IMG_DIR:return this.url.m_URL_DOMAIN_IMG+a}},this.getWebTitle=function(){return this.baseinfo.m_WEB_TITLE},this.getWelcomeSaying=function(){return this.baseinfo.m_WLECOME_SAYING}}function InitWeb(){function c(){var c,d,e,f,g,h,i,j,k,l,m,n,o,a=document.createElement("div");a.id="_header",c=document.createElement("div"),c.id="_menu",d=document.createElement("div"),d.id="_black_cover",e=document.createElement("div"),e.id="_footer",f=document.getElementById("app"),f.parentNode.insertBefore(d,f),f.parentNode.insertBefore(c,f),f.parentNode.insertBefore(a,f),document.body.appendChild(e),b.isPC()?(k=45,i=.045*innerWidth,h=-300,g=300,j=18):(g=.7*innerWidth,h=-g,i=.12*innerWidth,j=.03*innerWidth,k=.15*.7*innerWidth),l=Vue.extend({template:'<div class="header" id="header">           <div class="user-block-open" id="user-block-open">               <div                    class="user-block-open-click"                    id="user-block-open-click"                   @click="mouseClick"               >                   ≡≡               </div>           </div>       </div>',data:function(){return{}},methods:{mouseClick:function(){b.openSideMenu(),b.openBlackCover(),b.blackCoverBindClick(function(){b.closeSideMenu(),b.closeBlackCover()})}}}),m=Vue.extend({template:'<div            class="user-menu"            id="user-menu"           :style="{left: css.left + \'px\' , width: css.width + \'px\' }"       >           <div                class="menu-user-block"                id="menu-user-block"               style="height:'+i+'px;"'+"           >"+"               <div "+'                   class="menu-user-block-avatar" '+'                   id="menu-user-block-avatar"'+'                   style="width:'+k+"px;height:"+k+'px;"'+"               >"+"                   <img "+'                       id="menu-user-block-avatar-img" '+'                       class="menu-user-block-avatar-img" '+'                       :src="user.avatar"'+'                       style="width: '+k+"px; height:"+k+'px;"'+"                   >"+"               </div>"+'               <div class="menu-user-block-uid" id="menu-user-block-uid">'+'                   <div class="menu-user-block-uid-txt" id="menu-user-block-uid-txt">'+"                       |uid : {{user.user_uid}}"+"                   </div>"+"               </div>"+'               <div class="menu-user-block-id" id="menu-user-block-id">'+'                   <div class="menu-user-block-id-txt" id="menu-user-block-id-txt" v-on="{click: !user.online && goToLogin}">'+"                       |id : {{user.user_id}}"+"                   </div>"+"               </div>"+"           </div>"+'           <hr class="menu-user-block-div-line">'+'           <div class="menu-func" id="menu-func">'+'               <ul class="menu-func-ul" id="menu-func-ul">'+'                   <li v-for="dep in func">'+'                       <div class="menu-func-li-btn-block" @click="functionSwitch(dep.func)">'+'                           <div class="menu-func-li-btn-block-txt">{{dep.name}}</div>'+'                           <div class="menu-func-li-btn-block-about">{{dep.about}}</div>'+"                       </div>"+"                   </li>"+"               </ul>"+"           </div>"+"       </div>",data:function(){return{func:[{name:"我的主页",about:"字面意思呀，巴拉拉能量让你回到自己的主页！",func:"myIndex"},{name:"更新日志",about:"估计你对这个没啥兴趣",func:"updateLog"},{name:"注销",about:"嘤嘤嘤咱要溜了",func:"logOff"}],user:{user_id:"未登录，点击登录",user_uid:"-1",user_email:"example@google.com",user_lv:"0",user_exp:"0",user_class:"",avatar:"http://hbimg.b0.upaiyun.com/a12f24e688c1cda3ff4cc453f3486a88adaf08cc2cdb-tQvJqX_fw658",srm_jct:"",login_time:"0",online:!1},css:{left:h,width:g}}},methods:{goToLogin:function(){b.goToLogin()},functionSwitch:function(a){switch(a){case"myIndex":b.goToMyIndex();break;case"updateLog":b.closeBlackCover(),b.closeSideMenu(),b.goToUpdateLog();break;case"logOff":b.logOff()}}}}),n=Vue.extend({template:'<div            class="black-cover"            id="black-cover"           :style="{opacity: css.opacity}"           @click=mouseClick       >       </div>',data:function(){return{css:{opacity:0},bindCache:[{func:function(){console.log("Event : click #black_cover")},isConst:!0}]}},methods:{mouseClick:function(){for(var a in this.bindCache)this.bindCache[a].func();this.unbind()},unbind:function(){var b,a=[];for(b in this.bindCache)b.isConst&&a.push(this.bindCache[b]);this.bindCache=a},bind:function(a){var b=typeof a;"object"===b?"function"!=typeof a.func||void 0!==a.isConst&&"boolean"!=typeof a.isConst?console.error("Wrong type in function-bind"):(a.isConst=a.isConst?a.isConst:!1,this.bindCache.push(a)):"function"===b?this.bindCache.push({func:a,isConst:!1}):console.error("Wrong type in function-bind")}}}),o=Vue.extend({template:'<div class="footer" id="footer">'+static_data.baseinfo.m_COPYRIGHT+"</div>",data:function(){return{}},methods:{}}),this.header=new l,this.menu=new m,this.black_cover=new n,this.footer=new o,this.header.$mount("#_header"),this.menu.$mount("#_menu"),this.black_cover.$mount("#_black_cover"),this.footer.$mount("#_footer")}function d(){document.title=static_data.getWebTitle()}var a=this,b={isOnline:function(){return a.constDom.menu.user.online},openBlackCover:function(){var c,a=document.getElementById("black-cover");a.style.setProperty("z-index","1"),c=setInterval(function(){var a=b.getBlackCoverOpacity();b.setBlackCoverOpacity(a+.06),a>=static_data.userblock.m_MAX_BLACK_COVER_OPACITY-.06&&clearInterval(c)},10)},closeBlackCover:function(){var a=document.getElementById("black-cover"),c=setInterval(function(){var d=b.getBlackCoverOpacity();b.setBlackCoverOpacity(d-.06),d<=static_data.userblock.m_MIN_BLACK_COVER_OPACITY+.06&&(a.style.setProperty("z-index","-1"),clearInterval(c))},10);$("#black-cover").unbind("click")},openSideMenu:function(){var a=document.getElementById("user-menu"),c=setInterval(function(){var e,d=b.getMenuLeft();b.setMenuLeft(d+10),e=static_data.userblock.m_MAX_MENU_LEFT-20,d>=e&&(clearInterval(c),b.setMenuLeft(0),a.style.setProperty("box-shadow","2px 0px 1px rgb(173, 150, 150)"))},3)},closeSideMenu:function(){var c,d,a=document.getElementById("user-menu");a.style.setProperty("box-shadow","0px 0px 0px rgb(173, 150, 150)"),c=b.getMenuWidth(),d=setInterval(function(){var a=b.getMenuLeft(),e=a+c;return 0>=e?(clearInterval(d),void 0):(b.setMenuLeft(a-10),void 0)},3)},goToMyIndex:function(){location.href=static_data.getUrlPath("msg.html",static_data.m_URL_DOMAIN_WEB_DIR)},goToUpdateLog:function(){location.href=static_data.getUrlPath("#updates-log-list",static_data.m_URL_DOMAIN_WEB_DIR)},goToLogin:function(){location.href=static_data.getUrlPath("passport.html",static_data.m_URL_DOMAIN_WEB_DIR)},logOff:function(){a.constDom.menu.user.online&&$.ajax({url:static_data.getUrlPath("LogOff.php",static_data.m_URL_DOMAIN_API_DIR),async:!0,type:"post",dataType:"json",contentType:"application/x-www-form-urlencoded",xhrFields:{withCredentials:!0},success:function(a){1==a.data.res&&(location.href=static_data.getUrlPath("",static_data.m_URL_DOMAIN_WEB_DIR))}})},setUserInfo:function(b,c){a.constDom.menu.user[b]=c},setUserInfoArray:function(b){for(var c in b)a.functionGroup.setUserInfo(c,b[c])},passJct:function(){var a=this;$.ajax({url:static_data.getUrlPath("User.php",static_data.m_URL_DOMAIN_API_DIR),async:!0,type:"post",dataType:"json",contentType:"application/x-www-form-urlencoded",xhrFields:{withCredentials:!0},success:function(b){if(b.data.res===static_data.response.passjct.success){a.setUserInfoArray(b.data.data),a.setUserInfo("online",!0);var c=$("#menu-user-block-id-txt");c.css("cursor","default")}}})},getUserInfo:function(){return a.app.menu_user_block._data.user},isPC:function(){var d,a=navigator.userAgent,b=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],c=!0;for(d=0;d<b.length;d++)if(a.indexOf(b[d])>0){c=!1;break}return c},alertBox:function(b,c){function o(){k.style.opacity=1;var b=setInterval(function(){var c=k.style.opacity;k.style.opacity=c-.02,1>=c+.02&&(document.body.removeChild(k),clearInterval(b),a.functionGroup.closeBlackCover(),a.functionGroup.closeSideMenu())},2)}var d,e,i,j,k,l,m,n;b=b||"",c=c||0,d=document.body.scrollTop||document.documentElement.scrollTop,e=document.all?!0:!1,e&&!window.XMLHttpRequest,document.documentElement.scrollTop||document.body.scrollTop,document.documentElement.scrollLeft||document.body.scrollLeft,i=function(){var a,b,c,d,e,f;return window.innerHeight&&window.scrollMaxY?(a=document.body.scrollWidth,b=window.innerHeight+window.scrollMaxY):document.body.scrollHeight>document.body.offsetHeight?(a=document.body.scrollWidth,b=document.body.scrollHeight):(a=document.body.offsetWidth,b=document.body.offsetHeight),self.innerHeight?(c=self.innerWidth,d=self.innerHeight):document.documentElement&&document.documentElement.clientHeight?(c=document.documentElement.clientWidth,d=document.documentElement.clientHeight):document.body&&(c=document.body.clientWidth,d=document.body.clientHeight),f=d>b?d:b,e=c>a?c:a,{pageWidth:e,pageHeight:f,windowWidth:c,windowHeight:d}}(),j="display:block;position:fixed;_position:absolute;left:"+(i.windowWidth/2-200)+"px;top:"+(i.windowHeight/2-150)+"px;_top:"+(i.windowHeight/2+d-150)+"px;",k=document.createElement("div"),k.id="alertMsg",k.style.cssText=j,l=document.createElement("P"),l.id="alertMsg_info",l.innerHTML=b,k.appendChild(l),m=document.createElement("a"),m.id="alertMsg_btn1",m.href="javascript:void(0)",m.innerHTML="<cite>确定</cite>",m.onclick=function(){return o(),!0},k.appendChild(m),1===c&&(n=document.createElement("a"),n.id="alertMsg_btn2",n.href="javascript:void(0)",n.innerHTML="<cite>取消</cite>",n.onclick=function(){return o(),!1},k.appendChild(n)),document.body.appendChild(k),a.functionGroup.openBlackCover()},cDom:function(a,b,c,d){var e=$("<"+a+">");return null!=b&&e.attr("class",b),null!=c&&e.attr("id",c),null!=d&&e.html(d),e},setMenuLeft:function(b){a.constDom.menu.css.left=b},setBlackCoverOpacity:function(b){a.constDom.black_cover.css.opacity=b},getMenuLeft:function(){return a.constDom.menu.css.left},getBlackCoverOpacity:function(){return a.constDom.black_cover.css.opacity},getMenuWidth:function(){return a.constDom.menu.css.width},getDestinationCookie:function(a){var d,e,b=document.cookie,c=b.split("; ");for(d=0;d<c.length;d++)if(e=c[d].split("="),a===e[0])return e[1];return!1},blackCoverBindClick:function(b){a.constDom.black_cover.bind(b)}};this.functionGroup=b,this.constDom=new c,d(),b.passJct()}function pisert(){return[Date.parse(new Date),Math.floor(Math.random()*Math.pow(10,5))]}const static_data=new NotForgetData;